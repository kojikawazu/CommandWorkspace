# GitHubの組織使用

## GitHubを使って組織を立ち上げ

1. 組織を作る(organization)
2. チームを作る(teams)
3. メンバーを追加する(members)
4. プロジェクトを作る(projects)
5. 組織からリポジトリを作る(repository)
6. リポジトリにソースコードをプッシュする(sources)
7. リポジトリを触れるチームを追加する
8. リポジトリを触れるプロジェクトをリンクする

## Gitの問題点と対策

### Gitの問題点

ブランチを自由に作成できるため、放置しておくと無法地帯になる

### 対策

- 各プロジェクトで運用回避する → ブランチ戦略
- どの単位でブランチを作成するか → ウォーターフォールだと入ることがある

## 代表的なブランチ戦略

### Git-flow

ブランチ戦略として最初に提案されたフロー
開発用、リリース用などブランチを分けるためリリース管理が厳密に行える
ブランチが多くやや複雑

- プロジェクト開始時(mainブランチ)
- 開発中マスタブランチとしてdevelopブランチを作成
- 各機能開発はissue発行にあわせてfeatureブランチを作成して実施
  - 機能ごとにブランチを切って開発
  - 機能開発が終わったらdevelopへマージしてブランチは削除
- releaseブランチを作成してリリース準備/リリース
  - developからreleaseブランチを切ってリリース準備
  - mainブランチにはタグを設定
  - リリース後mainとdevelopへマージしてブランチは削除
- 緊急対応が必要な場合、hotfixブランチで実施
  - v1.0タグのmainブランチからhotfixブランチを切って緊急対応
  - v1.1タグにしてmainブランチにマージ
  - developブランチにもマージする

### GitHub-flow

Git-flowをシンプルにしたフロー
mainブランチとfeatureブランチのみで開発を進めるため素早くリリースが行える
環境を分けてリリースする仕組みはない

- プロジェクト開始時(mainブランチ)
- 各機能開発はissue発行に合わせてfeatureブランチを作成して実施
- 機能開発が終わったら、mainへPull Requestしてレビュー
  問題なければmainにマージしてブランチは削除

### GitLab-flow

GitHub-flowで本番環境に即デプロイできない場合のフロー
Git-flowとGitHub-flowの中間に位置するフロー
"productionブランチモデル", "環境ブランチモデル", "releaseブランチモデル"の3種類がある

- productionブランチモデル
  - デプロイ用にproductionブランチを用意
  - 実際にリリースされているコードはproductionブランチで確認 
- 環境ブランチモデル
  - 各ブランチに対応した環境にデプロイを行う
  - main → staging → productionのように必ずダウンストリームになるようPull Requestしてマージしていく 
- releaseブランチモデル
  - 外部向けにアプリを公開するようなケースで利用
  - 外部リリースごとにブランチを作成
 