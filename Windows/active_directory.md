# Active Directory

Active Directory(AD)とはMicrosoft社が開発したディレクトリサービス
ディレクトリサービスとは会社や組織が保有している人材や情報などの各種リソースを管理するための仕組み

具体的には以下の情報を一括で管理出来る
- ネットワーク上に存在するコンピューターの資源(リソース)
  - 共有ディスクやプリンターなど
- それを利用する人間(ユーザー)
- 組織全体のグループ構成やアクセス権限
 
1. サーバーマネージャー → 管理 → 役割と機能の追加をクリックする
2. 次へクリックする
3. Active Directoryドメインサービスをクリックする
4. 機能の追加をクリックする
5. 次へクリックする
6. 必要に応じて対象サーバーを自動的に再起動するをクリックする
7. はいをクリックする
8. インストールをクリックする
9. このサーバーをドメインコントローラーに昇格するをクリックする
10. 新しいフォレストを追加するをクリックする
11. ルートドメイン名に任意のドメイン名を入力し、次へをクリックする
12. パスワードに任意期のパスワードを入力し、次へをクリックする
13. 次へをクリックする
14. インストールをクリックする
15. ドメイン名\ユーザー名が表示されていること。パスワードを入力する

## Active Directoryとは

Active Directoryはネットワーク上の情報や、人や組織の情報を集中する仕組み

その管理する基本単位を「ドメイン」と呼ぶ。このドメインの中でユーザー、プリンタ、コンピューター、共有フォルダ、部署や役職といったグループ情報などを集中管理する。

ドメインの情報はActive Directoryデータベースと呼ばれるデータベースに格納される。

Active Directoryドメインを構築するにはWindows 2000 以降のサーバーOSをインストールしたコンピューターをドメインコントローラーに昇格させる。

## Active Directoryの構造

ドメインツリー・・・親子関係のある複数のドメインの集まり
                  (例)グループ名、大企業の事業部など

ドメインフォレスト・・・ドメインツリー同士を信頼関係で結んだ集合体。Active Directoryにおけるグループの最大単体

OU・・・1つのドメイン内で多数のオブジェクト(ユーザー、グループ、コンピューター、プリンタなど)がある場合、組織ごとに管理単位を分割管理する場合にOU(Organizational Unit)を用いて、オブジェクトを階層化して管理することができる。

## 機能レベル

Active DirectoryはWindowsのバージョンアップの度に機能が強化されている。

例えば、Windows Server 2008とWindows Server 2012 が混在すると言った環境の場合、一番古いWindows Server 2008の機能に全体を合わせる必要がある。

Windows Serverではこのバージョン毎の機能の違いを「機能レベル」を設定することによって合わせることができる。

## Active Directoryドメインへの参加

ドメインの機能を利用するには以下の2つの方法があります。

1. [Active Directoryドメインサービス]の役割をインストールして「ドメインコントローラー」にする
2. ドメインへ参加し、「メンバーサーバー」にする

## グループポリシー

グループポリシーとはユーザーやコンピューターの設定を一元的に管理するためのActive Directoryの仕組み

(例)
- パスワードのポリシーを統一する
  - 12文字以上で英数大文字小文字・記号を全て使う
  - パスワードは180日で更新 など
- 社員の使うパソコンの機能を一部制限する
  - アプリケーションのインストールができない
  - USBメモリが使えない
  - PCの設定を変えられない など

### メリット

- 集中管理により管理者の作業負荷軽減
- ポリシーを統一できるため漏れ(セキュリティの穴)の発生を防げる
- 企業理念や社会通念の変化でポリシーを変更することも容易に可能

### デメリット

- 一部だけ例外という様な柔軟なポリシー設定は困難
  (ただしOUを分ける等である程度の対応は可能)

## 構成

グループポリシーの設定は大別すると「コンピューターの構成」と「ユーザーの構成」の2つに分かれている。

### コンピューターの構成

- 主に全体に対する設定項目
  - セキュリティのポリシー
    - パスワードポリシー
    - アカウントロックアウトポリシー
  - スタートアップ/シャットダウン時に実行するスクリプト
  - ソフトウェアのインストールや実行のポリシー

※ このポリシーはコンピューターが起動した際に適用され、その後も一定時間ごとに更新される。

### ユーザーの構成

- 主に各ユーザーに対する設定項目
  - コントロールパネルやタスクバーと[スタート]メニューなどのユーザー環境に関する設定
  - ログオン/ログオフ時に実行するスクリプト

※ このポリシーはユーザーがログオンした際に適用され、その後も一定時間ごとに更新される。 



